{% extends 'menu.html' %}


{% block main %}
{% load static %}

<class class="container-fluid">


    <div class="card">
        <div class="card-header text-light" style="background: #E4E4E4;">
            <div class="row">
                <div class="col-md-8">
                    <h3 id="titulo" class="font-weight-bold" style="color: #000000;">Signos Vitales</h3>
                </div>
                <div class="col-md-4 ">
                    <a href="{% url 'base:crear_paciente' %}" class="btn btn-primary float-right">Nuevo Registro</a>
                </div>

            </div>
        </div>
        <div class="card-body">

            <form class="row">

                <div class="col-md-8">
                    <input class="form-control mr-2 bg-secondary text-danger font-weight-bold "
                        placeholder="Texto a Buscar" name="nombre" value={{nombre}}>
                </div>
                <div class="col-md-4 ">
                    <button class="btn btn-primary" type="submit">Buscar</button>
                </div>
            </form>

            <div class="row pt-2">
                <div class="col table-responsive">
                    <table class="table table-striped table-hover table-sm  table-bordered ">

                        <thead>
                            <tr>
                                <th class="text-center">Paciente</th>
                                <th class="text-center">Estatura</th>
                                <th class="text-center">Peso</th>
                                <th class="text-center">Masa Corporal</th>
                                <th class="text-center">Temperatura</th>
                                <th class="text-center">Frecuencia Respiratoria</th>
                                <th class="text-center">Frecuencia Cardiaca</th>
                                <th class="text-center">Porcentaje Grasa Corporal</th>
                                <th class="text-center">Porcentaje Masa Muscular</th>
                                <th class="text-center">Precion Arterial</th>
                                <th class="text-center">Fecha</th>
                            </tr>

                        </thead>
                        <tbody id="tabla">
                            {% for signo in signos%}
                            <tr>

                                <td class="text-center">{{signo.paciente.paciente.nombre | capfirst}} &nbsp
                                    {{ signo.paciente.paciente.apellido | capfirst }}</td>
                                <td class="text-center">{{signo.estatura}} m</td>
                                <td class="text-center">{{signo.peso}} Kg</td>
                                <td class="text-center">{{signo.masa}} Kg/m2</td>
                                <td class="text-center">{{signo.temperatura}} C</td>
                                <td class="text-center">{{signo.frecRespira}} r/m</td>
                                <td class="text-center">{{signo.frecCard}} bpm</td>
                                <td class="text-center">{{signo.porGraCor}} %</td>
                                <td class="text-center">{{signo.porMasaMus}} %</td>
                                <td class="text-center">{{signo.precionArt}}</td>
                                <td class="text-center">{{signo.paciente.fecha}}</td>


                            </tr>
                            {% empty %}
                            <div class="alert alert-warning alert-dismissible fade show mt-2" role="alert">
                                <strong>Mensaje del Sistema!</strong> No existen Pacientes registrados
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Menú de paginación -->
            {% if is_paginated %}
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    {% if page_obj.has_previous %}
                    <li class="page-item ">
                        <a class="page-link"
                            href="?nombre={{nombre}}&page={{ page_obj.previous_page_number }}">&laquo;</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">&laquo;</a>
                    </li>
                    {% endif %}
                    {% for i in paginator.page_range %}
                    {% if i <= page_obj.number|add:2 and i >= page_obj.number|add:-2 %}
                    {% if page_obj.number == i %}
                    <li class="page-item active" style="pointer-events:none">
                        <a href="#" class="page-link">{{ forloop.counter }}</a>
                    </li>
                    {% else %}
                    <li class="page-item">
                        <a href="?page={{ forloop.counter }}{{ url }}" class="page-link">{{ forloop.counter }}</a>
                    </li>
                    {% endif %}
                    {% endif %}
                    {% endfor %}
                    {% if page_obj.has_next %}
                    <li class="page-item ">
                        <a class="page-link" href="?nombre={{nombre}}&page={{ page_obj.next_page_number }}">&raquo;</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">&raquo;</a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
            {% endif %}
            <!-- Fin del pagineo -->
        </div>
    </div>

</class>

{% endblock %}